{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/searchbar/Searchbar.js","services/SearchApi.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/button/Button.js","components/loader/Loader.js","components/modal/Modal.js","App.js","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","SearchForm","this","type","SearchFormbutton","SearchFormbuttonlabel","SearchForminput","name","onChange","autoComplete","autoFocus","placeholder","Component","searchImages","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","webformatURL","tags","onPicked","src","alt","ImageGalleryItemImage","onClick","ImageGallery","images","map","id","largeImageURL","Button","onLoading","color","height","width","timeout","visible","Spinner","React","modalRoot","document","querySelector","Modal","handleBackDropClick","e","target","closeModal","handleCloseModal","code","window","addEventListener","removeEventListener","createPortal","Overlay","App","pickedImage","currentpage","loading","handleFormSubmit","handlePickedImage","imageUrl","fetchImages","SearchApi","data","hits","length","prevState","autoScroll","finally","loadMore","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","visibleLoadmore","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0a6ddc6a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__JL2QB\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1EWif\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__sOK8R\",\"Modal\":\"Modal_Modal__1cJms\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1UKVl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2QU2c\"};","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchName: '',\n  };\n\n  handleNameChange = event => {\n    this.setState({ searchName: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.searchName.trim() === '') {\n      toast.error('Enter your request, please!');\n      return;\n    }\n\n    this.props.onSubmit(this.state.searchName);\n    this.setState({ searchName: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormbutton}>\n            <span className={s.SearchFormbuttonlabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForminput}\n            type=\"text\"\n            name=\"searchName\"\n            value={this.state.searchName}\n            onChange={this.handleNameChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","function searchImages(name, page) {\n  return fetch(\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=22609546-eb8daebfdd1e346a58a9b181d&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Sorry! We did not find this request`));\n  });\n}\n\nexport default searchImages;\n","import React from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, tags, onPicked }) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} onClick={onPicked} />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImagesGalleryItem from '../imageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onPicked }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images &&\n        images.map(({ id, webformatURL, largeImageURL, tags }) => {\n          const selectImage = () => onPicked(largeImageURL);\n          return (\n            <ImagesGalleryItem\n              key={id}\n              webformatURL={webformatURL}\n              onPicked={selectImage}\n              tags={tags}\n            />\n          );\n        })}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import s from './Button.module.css';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Button = ({ onClick, onLoading }) => {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      <Loader\n        type=\"Oval\"\n        color=\"#ff9d00\"\n        height={20}\n        width={20}\n        timeout={3000}\n        visible={onLoading}\n      />\n      {onLoading ? '' : 'Load more'}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default class Spinner extends React.Component {\n  render() {\n    return <Loader type=\"Circles\" color=\"#ff9d00\" height={150} width={150} timeout={5000} />;\n  }\n}\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleCloseModal);\n  }\n\n  handleBackDropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.closeModal();\n    }\n  };\n\n  handleCloseModal = e => {\n    if (e.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackDropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.src} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\nimport Searchbar from './components/searchbar/Searchbar';\nimport SearchApi from './services/SearchApi';\nimport ImageGallery from './components/imageGallery/ImageGallery';\nimport Button from './components/button/Button';\nimport Spinner from './components/loader/Loader';\nimport Modal from './components/modal/Modal';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends Component {\n  state = {\n    searchName: '',\n    pickedImage: null,\n    images: [],\n    currentpage: 1,\n    loading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchName !== this.state.searchName) {\n      this.setState({ images: [] });\n      this.fetchImages();\n    }\n    if (prevState.currentpage !== this.state.currentpage) {\n      this.fetchImages();\n    }\n  }\n\n  handleFormSubmit = searchName => {\n    this.setState({ searchName });\n  };\n\n  handlePickedImage = imageUrl => {\n    this.setState({ pickedImage: imageUrl });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ pickedImage: null });\n  };\n\n  fetchImages = () => {\n    const { searchName, currentpage } = this.state;\n\n    this.setState({ loading: true });\n\n    SearchApi(searchName, currentpage)\n      .then(data => {\n        if (data.hits.length === 0) {\n          toast.error('Sorry! We did not find your request.');\n          return;\n        }\n        this.setState(prevState => ({\n          images: [...prevState.images, ...data.hits],\n        }));\n        if (currentpage > 1) {\n          this.autoScroll();\n        }\n      })\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  loadMore = () => {\n    this.setState(prevState => ({\n      currentpage: prevState.currentpage + 1,\n    }));\n  };\n\n  autoScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { images, loading, pickedImage } = this.state;\n    const visibleLoadmore = images.length > 0;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {loading && <Spinner />}\n        <ImageGallery images={images} onPicked={this.handlePickedImage} />\n        {visibleLoadmore && <Button onClick={this.loadMore} onLoading={loading} />}\n        {pickedImage && <Modal src={pickedImage} closeModal={this.handleCloseModal} />}\n        <ToastContainer autoClose={2000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1YcdP\",\"SearchForm\":\"Searchbar_SearchForm__1h6HK\",\"SearchFormbutton\":\"Searchbar_SearchFormbutton__1lj4A\",\"SearchFormbuttonlabel\":\"Searchbar_SearchFormbuttonlabel__dP4Yn\",\"SearchForminput\":\"Searchbar_SearchForminput__3URdQ\"};"],"sourceRoot":""}